install.packages("shiny")
shiny::runApp('Columbia/Advanced Big Data/Project/shiny/LiverPSN')
shiny::runApp('Projects/Covid/Shiny')
runApp('Projects/Covid/Shiny')
# load in shapefile
#zipshapes <- readOGR("./Data/cb_2016_us_zcta510_500k.shp")
zipshapes <- readOGR(dns =  path.expand("./data/zipshapes_simple.shp"), layer = "zipshapes_simple")
library(shiny)
library(leaflet)
library(ggplot2)
library(rgeos)
library(rgdal)
library(stringi)
library(dplyr)
library(shinyWidgets)
library(spdplyr)
library(tidyr)
library(scales)
#library(rmapshaper)
#library(raster)
rm(list = ls())
# setwd("//ace/home/anambiar/COVID")
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# load in shapefile
#zipshapes <- readOGR("./Data/cb_2016_us_zcta510_500k.shp")
zipshapes <- readOGR(dns =  path.expand("./data/zipshapes_simple.shp"), layer = "zipshapes_simple")
# load in shapefile
#zipshapes <- readOGR("./Data/cb_2016_us_zcta510_500k.shp")
zipshapes <- readOGR(dsn =  path.expand("./data/zipshapes_simple.shp"), layer = "zipshapes_simple")
library(sf)
zipshapes <- st_read(system.file("./data/zipshapes_simple.shp", package = "sf"))
getwd()
zipshapes <- st_read(system.file("C:/Users/Austin Bell/Documents/Projects/Covid/Shiny/data/zipshapes_simple.shp", package = "sf"))
zipshapes <- st_read("C:/Users/Austin Bell/Documents/Projects/Covid/Shiny/data/zipshapes_simple.shp")
zipshapes
#shape_simp <- rmapshaper::ms_simplify(zipshapes, keep = 0.05)
#writeOGR(shape_simp, "./Data/zipshapes_simple.shp", "zipshapes_simple", driver="ESRI Shapefile")
# load in zip to state crosswalks
zip_full <- read.csv("./data/uszips.csv")
# add percent tests and percent positive
zip_full$percent_test <- runif(nrow(zip_full), min=0, max=1)
zip_full$percent_positive <- runif(nrow(zip_full), min=0, max=1)
zip_full <- zip_full %>%
rename("GEOID10" = "zip") %>%
select(GEOID10, lat, lng, county_name, state_name, state_id, population, percent_test, percent_positive) %>%
mutate(GEOID10 = ifelse(nchar(as.character(GEOID10)) == 4, paste0("0", as.character(GEOID10)),
ifelse(nchar(as.character(GEOID10)) == 3, paste0("00", as.character(GEOID10)), as.character(GEOID10))))
# merge shapefile with info from crosswalk
zipshapes@data <- left_join(zipshapes@data, zip_full, by = "GEOID10")
# load in shapefile
#zipshapes <- readOGR("./Data/cb_2016_us_zcta510_500k.shp")
zipshapes <- readOGR(dsn =  path.expand("./data/zipshapes_simple.shp"), layer = "zipshapes_simple")
zipshapes <- st_read("C:/Users/Austin Bell/Documents/Projects/Covid/Shiny/data/zipshapes_simple.shp")
# load in shapefile
#zipshapes <- readOGR("./Data/cb_2016_us_zcta510_500k.shp")
zipshapes <- readOGR(dsn =  path.expand("./data/zipshapes_simple.shp"), layer = "zipshapes_simple")
# load in shapefile
#zipshapes <- readOGR("./Data/cb_2016_us_zcta510_500k.shp")
zipshapes <- readOGR(dsn =  path.expand("./data/zipshapes_simple.shp"), layer = "zipshapes_simple")
runApp('~/Columbia/Advanced Big Data/Project/shiny')
###### Paths
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
dirname(rstudioapi::getActiveDocumentContext()$path)
runApp()
runApp()
